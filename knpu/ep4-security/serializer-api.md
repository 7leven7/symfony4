# Serializer API

Coming soon...

Addition to our log informants indication, I want to allow users to to send API token authentication, but before we get there, first let's make a proper Api endpoint, are close a few files and then open our account controller, so to keep things simple, I'm just going to make a new public function at the bottom of this called account Api. The idea is that you could. 

This will return a Jason Representation of whoever is logged in. So above this I'll do it at route. We'll make this slash api slash account. We'll give the name equals API underscore account, so very simply we're going to get the user object user equals this Arrow, get user of whoever's logged in. We can safely do that because every controller in this class does require the use to be logged in. And then to turn this into Jason, this is pretty cool. We can say return this Arrow Jason, and pass it the user object. Cool. Let's try it. Go over and we'd go to slash api slash accounting in your browser and 

hm, well that's not what I expected. It's Jason, but it's empty. The reason why, because if you hold command or control and click into this jason method, this class does one of two different things at first checks to see if symphonies serializer is installed serializer components right now that is not installed, and so if when it's installed it, it falls back to using this Jason Response Class and passing the data directly internally in that class. All it does is call it the PHP function, Jason and code, and when you Jason had coded object, the only thing you get back are it's public properties, which of course we have no public properties, so we get an empty object. This is actually the entire point of symphonies serializer component to be a professional way to turn objects into Jason or some other format, so we're not gonna talk too much about the symphony serialized right now, but we are going to install it so that it's used. So find your browser and run composer require serializer. How'd your terminal? 

Yeah, 

Mr. Miss installs a serializer pack. Yeah. Which gets need simply serializer component and a couple of other things. That was soon as you do that, somebody will start using these serializer service internally and when we refresh, ha, it works. That has super cool except it is actually exposing a little bit more than I want. I don't actually want to expose the encoded password, for example, so to control this, what we're going to talk about the serializer just a little bit. Open up your user class and what you can do is you can put each property that you want to expose into eight group via an annotation, so we won't expose the ID, but let's expose the group email. So we'll say at groups and then put this into a group call main. I'm just making that name up. I'm going to copy that. Let's also, let's not do roles what's exposed first name and let's expose twitter username. Then in your account controller, you can actually tell a serialized. You've only see realize things inside of that main group. So to do that we'll use the normal 200 status code, the second argument, any custom headers, but we do want to pass this context argument. We'll say groups equal to an array with me, you can tell it to serialize as many different groups on your entities you want. 

So now when move over and refresh, there it is just the fields that we want. All right, so next let's actually start talking about how to do api token authentication.
